## adder

A sample from the Rust 'bible' that showcases the testing features provided by Rust.


### Unit Tests

Unit tests should be:
- grouped into a module
    - named `tests` by convention
    - annotated with `#cfg(test)]` so that it won't be included in the build (compiled result)
- included in the same file as the code (ex: `src/lib.rs` includes also the unit tests)


### Integration Tests

Integration tests should be:
- placed in `tests` directory
- each file represents a crate that will be run by the Rust test library
- common code used by multiple tests should be placed into a directory inside `tests` (ex: `tests/commons/some.rs`) since files in subdirectories don't get compiled as separate crates

`cargo test` runs both unit and integration tests. To run all the tests in a particular integration test file, use `cargo test --test int_tests` having `tests/int_tests.rs` file.


### Running tests sequentially

By default, Rust test library runs the tests in parallel using multiple threads.
If you want to run the tests sequentially, use `--test-threads=1`.<br/>

The same option can be used for defining the number of threads to be used.
```shell
$ cargo test -- --test-threads=1
```


### Running specific test(s)

Using `cargo test <a-specific-test-name>` it will run only that test whose name was provided.

Using `cargo test <word>` will run all the tests whose names include the provided word.


### Ignored Tests

Using `#[ignore]` annotation, you can declare a test method to be ignored.

Still, you would be able to run only the ignored tests using `cargo test -- --ignored`.


### See the output

By default, output is captured during testing, but you can use `cargo test -- --nocapture` to see the output generated by the print statements while running the tests.


### Refs

- [Rust Book > 11.2 Controlling how tests are run](https://doc.rust-lang.org/book/ch11-02-running-tests.html)

